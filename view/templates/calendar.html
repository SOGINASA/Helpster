<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Helpster ‚Äî –ö–∞–ª–µ–Ω–¥–∞—Ä—å</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    body { 
      font-family: 'Inter', sans-serif; 
    }
    
    .navbar-glass {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .modal-backdrop {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
    }

    .calendar-day {
      transition: all 0.3s ease;
      position: relative;
      overflow: visible;
    }

    .calendar-day:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 8px 25px rgba(99, 102, 241, 0.25);
      z-index: 10;
    }

    .event-dot {
      animation: pulse 2s infinite;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
    }

    .multiple-events {
      background: linear-gradient(45deg, #6366f1, #8b5cf6, #ec4899);
      animation: rainbow-pulse 3s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.1); }
    }

    @keyframes rainbow-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    .slide-in {
      animation: slideIn 0.4s ease-out;
    }

    @keyframes slideIn {
      from { transform: translateY(30px) scale(0.9); opacity: 0; }
      to { transform: translateY(0) scale(1); opacity: 1; }
    }

    .event-card {
      transition: all 0.3s ease;
      background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
    }

    .event-card:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 15px 30px rgba(0,0,0,0.1);
    }

    .type-education { border-left: 4px solid #3b82f6; }
    .type-volunteer { border-left: 4px solid #10b981; }
    .type-social { border-left: 4px solid #8b5cf6; }
    .type-workshop { border-left: 4px solid #f59e0b; }
    .type-health { border-left: 4px solid #ef4444; }

    .floating-badge {
      position: absolute;
      top: -6px;
      right: -6px;
      background: linear-gradient(45deg, #6366f1, #8b5cf6);
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: bold;
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-2px) scale(1.1); }
    }

    /* Mobile optimizations */
    @media (max-width: 430px) {
      .calendar-day {
        height: 2.5rem;
        font-size: 0.875rem;
      }
      
      .event-card {
        padding: 1rem;
      }
      
      .floating-badge {
        width: 16px;
        height: 16px;
        font-size: 9px;
        top: -4px;
        right: -4px;
      }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col bg-gradient-to-br from-slate-50 to-indigo-50 text-gray-800 pb-20">

  <!-- Header (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ —Ñ–∞–π–ª–∞) -->
  <header class="bg-white/80 backdrop-blur-lg relative overflow-hidden shadow-sm">
    <div class="container mx-auto px-6 py-8 lg:py-12 flex flex-col items-center text-center">
      <h1 class="text-4xl lg:text-5xl font-extrabold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">Helpster</h1>
      <p class="mt-2 text-gray-600 font-medium">–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π</p>
    </div>
    <div class="absolute bottom-0 inset-x-0 leading-none">
      <svg viewBox="0 0 1440 80" class="block w-full h-20" preserveAspectRatio="none">
        <path d="M0,32 C480,96 960,0 1440,64 L1440,80 L0,80 Z" fill="rgb(248 250 252)"/>
      </svg>
    </div>
  </header>

  <!-- Main Calendar Content -->
  <main class="flex-grow container mx-auto px-4 py-6">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—è (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π) -->
    <div class="flex items-center justify-between mb-6">
      <div>
        <h2 class="text-xl font-bold text-gray-800 mb-1">–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π</h2>
        <p class="text-sm text-gray-600">–í–∞—à–∏ –±–ª–∏–∂–∞–π—à–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</p>
      </div>
      <div class="flex items-center space-x-2">
        <button id="prevMonth" class="p-2 rounded-xl hover:bg-white/80 transition-all duration-200 text-gray-600 hover:text-indigo-600">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>
        <div class="px-3 py-2 bg-white/80 backdrop-blur-md rounded-xl font-bold text-gray-800 min-w-[120px] text-center text-sm">
          <span id="currentMonth"></span>
        </div>
        <button id="nextMonth" class="p-2 rounded-xl hover:bg-white/80 transition-all duration-200 text-gray-600 hover:text-indigo-600">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–π) -->
    <div class="bg-white/80 backdrop-blur-md rounded-2xl shadow-xl p-4 border border-white/30 mb-6">
      <!-- –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ -->
      <div class="grid grid-cols-7 text-center font-bold text-gray-700 border-b-2 border-gray-200 pb-3 mb-3">
        <div class="py-2 text-sm">–ü–Ω</div>
        <div class="py-2 text-sm">–í—Ç</div>
        <div class="py-2 text-sm">–°—Ä</div>
        <div class="py-2 text-sm">–ß—Ç</div>
        <div class="py-2 text-sm">–ü—Ç</div>
        <div class="py-2 text-sm">–°–±</div>
        <div class="py-2 text-sm">–í—Å</div>
      </div>
      
      <!-- –î–∞—Ç—ã –∫–∞–ª–µ–Ω–¥–∞—Ä—è -->
      <div id="calendarGrid" class="grid grid-cols-7 gap-1">
        <!-- –î–Ω–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
      </div>
    </div>

    <!-- –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π) -->
    <section class="mt-6">
      <div class="flex items-center justify-between mb-4">
        <div>
          <h3 class="text-lg font-bold text-gray-800 mb-1">–ë–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è</h3>
          <p class="text-sm text-gray-600">–ù–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –≤–∞–∂–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</p>
        </div>
        <div class="flex items-center space-x-2 text-xs text-gray-600">
          <div class="flex items-center space-x-1">
            <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
            <span class="hidden sm:inline">–û–±—É—á–µ–Ω–∏–µ</span>
          </div>
          <div class="flex items-center space-x-1">
            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
            <span class="hidden sm:inline">–í–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ</span>
          </div>
          <div class="flex items-center space-x-1">
            <div class="w-2 h-2 bg-purple-500 rounded-full"></div>
            <span class="hidden sm:inline">–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ</span>
          </div>
        </div>
      </div>
      <div id="upcomingEvents" class="grid gap-4">
        <!-- –°–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
      </div>
    </section>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–±—ã—Ç–∏–π -->
  <div id="eventModal" class="fixed inset-0 z-50 hidden modal-backdrop">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-3xl shadow-2xl max-w-sm w-full mx-4 slide-in">
        <div class="p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 id="modalDate" class="text-lg font-bold text-gray-800"></h3>
            <button id="closeModal" class="p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200">
              <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          <div id="modalEvents" class="space-y-3">
            <!-- –°–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- –ü–ª–∞–≤–∞—é—â–µ–µ –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é (–∫–∞–∫ –≤–æ –≤—Ç–æ—Ä–æ–º —Ñ–∞–π–ª–µ) -->
  <nav class="fixed inset-x-0 bottom-11 flex justify-center pointer-events-none z-20">
    <div class="navbar-glass rounded-full px-6 py-3 flex space-x-8 pointer-events-auto shadow-2xl">
      <!-- –ì–ª–∞–≤–Ω–∞—è -->
      <a href="{{ url_for('user.dashboard') }}"
         class="flex flex-col items-center hover:text-indigo-600 transition-colors duration-200 group text-gray-600">
        <div class="p-2 rounded-xl group-hover:bg-indigo-50 transition-colors duration-200">
          <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
          </svg>
        </div>
        <span class="text-xs font-medium">–ì–ª–∞–≤–Ω–∞—è</span>
      </a>

      <!-- –ú–æ–∏ —Å–æ–±—ã—Ç–∏—è (–∞–∫—Ç–∏–≤–Ω—ã–µ) -->
      <a href="{{ url_for('user.calendar') }}"
         class="flex flex-col items-center text-indigo-600 group">
        <div class="p-2 rounded-xl bg-indigo-100 shadow-lg">
          <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
        </div>
        <span class="text-xs font-semibold whitespace-nowrap">–°–æ–±—ã—Ç–∏—è</span>
      </a>

      <!-- –ß–∞—Ç–±–æ—Ç -->
      <a href="{{ url_for('user.chatbot') }}"
         class="flex flex-col items-center hover:text-indigo-600 transition-colors duration-200 group text-gray-600">
        <div class="p-2 rounded-xl group-hover:bg-indigo-50 transition-colors duration-200">
          <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
          </svg>
        </div>
        <span class="text-xs font-medium">–ß–∞—Ç–±–æ—Ç</span>
      </a>

      <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
      <a href="{{ url_for('user.profile') }}"
         class="flex flex-col items-center hover:text-indigo-600 transition-colors duration-200 group text-gray-600">
        <div class="p-2 rounded-xl group-hover:bg-indigo-50 transition-colors duration-200">
          <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
        <span class="text-xs font-medium">–ü—Ä–æ—Ñ–∏–ª—å</span>
      </a>
      
      <!-- –û–±—É—á–µ–Ω–∏–µ -->
      <a href="{{ url_for('user.education') }}"
         class="flex flex-col items-center hover:text-indigo-600 transition-colors duration-200 group text-gray-600">
        <div class="p-2 rounded-xl group-hover:bg-indigo-50 transition-colors duration-200">
          <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
          </svg>
        </div>
        <span class="text-xs font-medium">–û–±—É—á–µ–Ω–∏–µ</span>
      </a>
    </div>
  </nav>

  <script>
    // –î–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏–π (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
    const events = {
      // –ò—é–Ω—å 2025 (—Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü)
      '2025-06-22': [
        { title: '–õ–µ—Ç–Ω–∏–π —Å—É–±–±–æ—Ç–Ω–∏–∫', time: '09:00', description: '–£–±–æ—Ä–∫–∞ –≥–æ—Ä–æ–¥—Å–∫–æ–≥–æ –ø–∞—Ä–∫–∞ –∏ –æ–∑–µ–ª–µ–Ω–µ–Ω–∏–µ –∫–ª—É–º–±', type: 'volunteer', priority: 'high' }
      ],
      '2025-06-24': [
        { title: '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å ¬´–≠–∫–æ-—Å—É–º–∫–∏¬ª', time: '14:00', description: '–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã—Ö —Å—É–º–æ–∫ –∏–∑ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤', type: 'workshop', priority: 'medium' },
        { title: '–í—Å—Ç—Ä–µ—á–∞ –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤', time: '18:00', description: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–µ—Ç–Ω–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π', type: 'social', priority: 'low' }
      ],
      '2025-06-26': [
        { title: '–î–µ–Ω—å –∑–¥–æ—Ä–æ–≤—å—è –≤ –ø–∞—Ä–∫–µ', time: '10:00', description: '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –≤—Ä–∞—á–µ–π –∏ —Ñ–∏—Ç–Ω–µ—Å-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏', type: 'health', priority: 'high' }
      ],
      '2025-06-28': [
        { title: '–ü–æ–º–æ—â—å –¥–µ—Ç—Å–∫–æ–º—É –ø—Ä–∏—é—Ç—É', time: '11:00', description: '–ò–≥—Ä—ã —Å –¥–µ—Ç—å–º–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∞–∑–¥–Ω–∏–∫–∞', type: 'social', priority: 'high' }
      ],
      '2025-06-30': [
        { title: '–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∫–≤–µ—Å—Ç', time: '15:00', description: '–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞ –æ –∑–∞—â–∏—Ç–µ –ø—Ä–∏—Ä–æ–¥—ã –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤', type: 'education', priority: 'medium' }
      ],
      
      // –ò—é–ª—å 2025
      '2025-07-02': [
        { title: '–õ–µ—Ç–Ω–∏–π —Ñ–µ—Å—Ç–∏–≤–∞–ª—å –¥–æ–±—Ä–∞', time: '12:00', description: '–ë–æ–ª—å—à–æ–π –≥–æ—Ä–æ–¥—Å–∫–æ–π –ø—Ä–∞–∑–¥–Ω–∏–∫ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–∞', type: 'social', priority: 'high' }
      ],
      '2025-07-05': [
        { title: '–ü–æ—Å–∞–¥–∫–∞ —Ü–≤–µ—Ç–æ–≤', time: '08:00', description: '–£–∫—Ä–∞—à–µ–Ω–∏–µ –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –∫–ª—É–º–± –∫ –ª–µ—Ç–Ω–µ–º—É —Å–µ–∑–æ–Ω—É', type: 'volunteer', priority: 'medium' }
      ],
      '2025-07-08': [
        { title: '–°–µ–º–∏–Ω–∞—Ä ¬´–ü–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å¬ª', time: '16:00', description: '–û–±—É—á–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞–º –æ–∫–∞–∑–∞–Ω–∏—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –ø–æ–º–æ—â–∏', type: 'education', priority: 'high' }
      ],
      '2025-07-12': [
        { title: '–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ü–µ—Ä—Ç', time: '19:00', description: '–°–±–æ—Ä —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –Ω—É–∂–¥–∞—é—â–∏—Ö—Å—è —Å–µ–º–µ–π', type: 'social', priority: 'medium' },
        { title: '–ô–æ–≥–∞ –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ', time: '06:00', description: '–£—Ç—Ä–µ–Ω–Ω—è—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –≤ –≥–æ—Ä–æ–¥—Å–∫–æ–º –ø–∞—Ä–∫–µ', type: 'health', priority: 'low' }
      ],
      '2025-07-15': [
        { title: '–ü–æ–º–æ—â—å –ø—Ä–∏—é—Ç—É –∂–∏–≤–æ—Ç–Ω—ã—Ö', time: '10:30', description: '–£—Ö–æ–¥ –∑–∞ –±–µ–∑–¥–æ–º–Ω—ã–º–∏ –∂–∏–≤–æ—Ç–Ω—ã–º–∏', type: 'volunteer', priority: 'high' }
      ],
      '2025-07-18': [
        { title: '–ö—É–ª–∏–Ω–∞—Ä–Ω—ã–π –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å', time: '14:00', description: '–ì–æ—Ç–æ–≤–∏–º –∑–¥–æ—Ä–æ–≤—É—é –µ–¥—É –¥–ª—è –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç–æ–ª–æ–≤–æ–π', type: 'workshop', priority: 'medium' }
      ],
      '2025-07-22': [
        { title: '–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –¥–µ–Ω—å', time: '11:00', description: '–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏', type: 'health', priority: 'medium' }
      ],
      '2025-07-25': [
        { title: '–ß—Ç–µ–Ω–∏–µ –∫–Ω–∏–≥ –¥–µ—Ç—è–º', time: '15:30', description: '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–π —á–∞—Å –≤ –¥–µ—Ç—Å–∫–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ', type: 'education', priority: 'low' }
      ],
      '2025-07-28': [
        { title: '–£–±–æ—Ä–∫–∞ –±–µ—Ä–µ–≥–∞ —Ä–µ–∫–∏', time: '09:00', description: '–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∞–∫—Ü–∏—è –ø–æ –æ—á–∏—Å—Ç–∫–µ –≤–æ–¥–æ—ë–º–∞', type: 'volunteer', priority: 'high' }
      ]
    };

    // –ù–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–µ–≤
    const monthNames = [
      '–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',
      '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'
    ];

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –Ω–∞ –∏—é–Ω—å 2025
    let currentDate = new Date(2025, 5, 1); // –ò—é–Ω—å 2025

    // –¶–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
    const eventColors = {
      education: 'bg-blue-100 text-blue-800 border-blue-200',
      volunteer: 'bg-green-100 text-green-800 border-green-200',
      social: 'bg-purple-100 text-purple-800 border-purple-200',
      workshop: 'bg-orange-100 text-orange-800 border-orange-200',
      health: 'bg-red-100 text-red-800 border-red-200'
    };

    const priorityColors = {
      high: 'border-l-red-500 bg-red-50',
      medium: 'border-l-yellow-500 bg-yellow-50',
      low: 'border-l-green-500 bg-green-50'
    };

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ
    function getDaysInMonth(date) {
      return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è –Ω–µ–¥–µ–ª–∏ –º–µ—Å—è—Ü–∞ (0 = –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 1 = –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, ...)
    function getFirstDayOfMonth(date) {
      const firstDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay();
      return firstDay === 0 ? 6 : firstDay - 1; // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ = 0
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã –≤ —Å—Ç—Ä–æ–∫—É YYYY-MM-DD
    function formatDate(year, month, day) {
      return `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
    function renderCalendar() {
      const calendarGrid = document.getElementById('calendarGrid');
      const currentMonthElement = document.getElementById('currentMonth');
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ—Å—è—Ü–∞
      currentMonthElement.textContent = `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
      
      // –û—á–∏—â–∞–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
      calendarGrid.innerHTML = '';
      
      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();
      const daysInMonth = getDaysInMonth(currentDate);
      const firstDay = getFirstDayOfMonth(currentDate);
      
      // –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ –¥–ª—è –¥–Ω–µ–π –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
      for (let i = 0; i < firstDay; i++) {
        const emptyDay = document.createElement('div');
        emptyDay.className = 'h-10';
        calendarGrid.appendChild(emptyDay);
      }
      
      // –î–æ–±–∞–≤–ª—è–µ–º –¥–Ω–∏ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
      for (let day = 1; day <= daysInMonth; day++) {
        const dayElement = document.createElement('div');
        const dateString = formatDate(year, month, day);
        const dayEvents = events[dateString];
        const eventCount = dayEvents ? dayEvents.length : 0;
        const hasHighPriority = dayEvents && dayEvents.some(e => e.priority === 'high');
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–µ–Ω—å —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–º (–∏—Å–ø–æ–ª—å–∑—É–µ–º 21 –∏—é–Ω—è –∫–∞–∫ —Å–µ–≥–æ–¥–Ω—è)
        const isToday = year === 2025 && month === 5 && day === 21;
        
        let dayClass = `calendar-day relative h-10 flex items-center justify-center rounded-xl cursor-pointer font-semibold text-sm `;
        
        if (isToday) {
          dayClass += 'bg-gradient-to-br from-indigo-600 to-purple-600 text-white shadow-lg scale-110 z-20';
        } else if (dayEvents) {
          if (eventCount > 1) {
            dayClass += 'bg-gradient-to-br from-indigo-500 to-purple-500 text-white shadow-md';
          } else if (hasHighPriority) {
            dayClass += 'bg-gradient-to-br from-red-500 to-pink-500 text-white shadow-md';
          } else {
            dayClass += 'bg-gradient-to-br from-blue-400 to-indigo-400 text-white shadow-sm';
          }
        } else {
          dayClass += 'hover:bg-white/60 text-gray-700 hover:shadow-sm';
        }
        
        dayElement.className = dayClass;
        
        let dotHtml = '';
        if (dayEvents) {
          if (eventCount > 1) {
            dotHtml = `<div class="floating-badge multiple-events">${eventCount}</div>`;
          } else {
            const eventType = dayEvents[0].type;
            const dotColor = {
              education: 'bg-blue-600',
              volunteer: 'bg-green-600',
              social: 'bg-purple-600',
              workshop: 'bg-orange-600',
              health: 'bg-red-600'
            }[eventType] || 'bg-indigo-600';
            
            dotHtml = `<div class="absolute top-0 right-0 w-3 h-3 ${dotColor} rounded-full event-dot ${isToday ? 'bg-white' : ''}"></div>`;
          }
        }
        
        dayElement.innerHTML = `
          <span class="relative z-10">${day}</span>
          ${dotHtml}
        `;
        
        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –¥–Ω–µ–π —Å —Å–æ–±—ã—Ç–∏—è–º–∏
        if (dayEvents) {
          dayElement.addEventListener('click', () => showEventModal(dateString, day));
        }
        
        calendarGrid.appendChild(dayElement);
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å —Å–æ–±—ã—Ç–∏—è–º–∏
    function showEventModal(dateString, day) {
      const modal = document.getElementById('eventModal');
      const modalDate = document.getElementById('modalDate');
      const modalEvents = document.getElementById('modalEvents');
      
      modalDate.textContent = `${day} ${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
      
      const dayEvents = events[dateString];
      modalEvents.innerHTML = '';
      
      dayEvents.forEach(event => {
        const eventElement = document.createElement('div');
        const priorityClass = priorityColors[event.priority] || '';
        eventElement.className = `p-4 rounded-xl border-l-4 ${eventColors[event.type] || 'bg-gray-100 text-gray-800 border-gray-200'} ${priorityClass} shadow-md`;
        
        const priorityBadge = {
          high: '<span class="inline-block px-2 py-1 bg-red-200 text-red-800 text-xs font-bold rounded-full">–í–∞–∂–Ω–æ</span>',
          medium: '<span class="inline-block px-2 py-1 bg-yellow-200 text-yellow-800 text-xs font-bold rounded-full">–°—Ä–µ–¥–Ω–µ</span>',
          low: '<span class="inline-block px-2 py-1 bg-green-200 text-green-800 text-xs font-bold rounded-full">–û–±—ã—á–Ω–æ</span>'
        }[event.priority] || '';
        
        eventElement.innerHTML = `
          <div class="flex items-start justify-between mb-2">
            <h4 class="font-bold text-sm">${event.title}</h4>
            <div class="flex items-center space-x-2">
              <span class="text-xs font-bold px-2 py-1 rounded-lg bg-white/70">${event.time}</span>
              ${priorityBadge}
            </div>
          </div>
          <p class="text-xs opacity-90 leading-relaxed">${event.description}</p>
        `;
        modalEvents.appendChild(eventElement);
      });
      
      modal.classList.remove('hidden');
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –±–ª–∏–∂–∞–π—à–∏—Ö —Å–æ–±—ã—Ç–∏–π
    function renderUpcomingEvents() {
      const upcomingEventsContainer = document.getElementById('upcomingEvents');
      const today = new Date(2025, 5, 21); // 21 –∏—é–Ω—è 2025
      const upcomingEvents = [];
      
      // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –≤ –æ–¥–Ω–æ–º –º–∞—Å—Å–∏–≤–µ —Å –¥–∞—Ç–∞–º–∏
      Object.keys(events).forEach(dateString => {
        const eventDate = new Date(dateString);
        if (eventDate >= today) {
          events[dateString].forEach(event => {
            upcomingEvents.push({
              ...event,
              date: eventDate,
              dateString: dateString
            });
          });
        }
      });
      
      // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ
      upcomingEvents.sort((a, b) => a.date - b.date);
      
      // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 6 —Å–æ–±—ã—Ç–∏–π
      const nextEvents = upcomingEvents.slice(0, 6);
      
      upcomingEventsContainer.innerHTML = '';
      
      nextEvents.forEach((event, index) => {
        const eventElement = document.createElement('div');
        const priorityClass = priorityColors[event.priority] || '';
        const typeClass = `type-${event.type}`;
        
        eventElement.className = `event-card ${typeClass} ${priorityClass} p-6 rounded-2xl shadow-xl border border-white/30 cursor-pointer transform hover:-translate-y-2`;
        
        const eventDate = new Date(event.dateString);
        const dateText = `${eventDate.getDate()} ${monthNames[eventDate.getMonth()]}`;
        const daysUntil = Math.ceil((eventDate - today) / (1000 * 60 * 60 * 24));
        
        const priorityBadge = {
          high: '<div class="absolute top-3 right-3 w-3 h-3 bg-red-500 rounded-full animate-pulse"></div>',
          medium: '<div class="absolute top-3 right-3 w-3 h-3 bg-yellow-500 rounded-full"></div>',
          low: '<div class="absolute top-3 right-3 w-3 h-3 bg-green-500 rounded-full"></div>'
        }[event.priority] || '';
        
        const typeIcon = {
          education: 'üéì',
          volunteer: 'ü§ù',
          social: '‚ù§Ô∏è',
          workshop: 'üõ†Ô∏è',
          health: 'üè•'
        }[event.type] || 'üìÖ';
        
        eventElement.innerHTML = `
          <div class="relative">
            ${priorityBadge}
            <div class="flex items-start space-x-4 mb-4">
              <div class="flex-shrink-0">
                <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl shadow-lg">
                  ${eventDate.getDate()}
                </div>
              </div>
              <div class="flex-grow">
                <div class="flex items-center space-x-2 mb-2">
                  <span class="text-2xl">${typeIcon}</span>
                  <h4 class="font-bold text-gray-800 text-lg">${event.title}</h4>
                </div>
                <p class="text-sm text-gray-600 mb-3 leading-relaxed">${event.description}</p>
              </div>
            </div>
            <div class="flex items-center justify-between pt-4 border-t border-gray-200">
              <div class="flex items-center space-x-3">
                <span class="text-sm font-bold text-indigo-600 bg-indigo-100 px-3 py-1 rounded-full">${event.time}</span>
                <span class="text-sm font-medium text-gray-600">${dateText}</span>
              </div>
              <div class="text-xs font-bold ${daysUntil <= 2 ? 'text-red-600 bg-red-100' : 'text-gray-600 bg-gray-100'} px-2 py-1 rounded-full">
                ${daysUntil <= 1 ? (daysUntil === 0 ? '–°–µ–≥–æ–¥–Ω—è' : '–ó–∞–≤—Ç—Ä–∞') : `–ß–µ—Ä–µ–∑ ${daysUntil} –¥–Ω.`}
              </div>
            </div>
          </div>
        `;
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
        eventElement.style.animationDelay = `${index * 0.1}s`;
        eventElement.classList.add('slide-in');
        
        eventElement.addEventListener('click', () => showEventModal(event.dateString, eventDate.getDate()));
        upcomingEventsContainer.appendChild(eventElement);
      });
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ—Å—è—Ü–µ–≤
    document.getElementById('prevMonth').addEventListener('click', () => {
      currentDate.setMonth(currentDate.getMonth() - 1);
      renderCalendar();
    });

    document.getElementById('nextMonth').addEventListener('click', () => {
      currentDate.setMonth(currentDate.getMonth() + 1);
      renderCalendar();
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    document.getElementById('closeModal').addEventListener('click', () => {
      document.getElementById('eventModal').classList.add('hidden');
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ñ–æ–Ω
    document.getElementById('eventModal').addEventListener('click', (e) => {
      if (e.target === document.getElementById('eventModal')) {
        document.getElementById('eventModal').classList.add('hidden');
      }
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
    renderCalendar();
    renderUpcomingEvents();
  </script>

</body>
</html>